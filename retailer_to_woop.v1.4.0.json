{
  "openapi": "3.0.2",
  "tags": [
    {
      "name": "Order"
    },
    {
      "name": "Label"
    },
    {
      "name": "Document"
    },
    {
      "name": "Picking"
    },
    {
      "name": "Health"
    },
    {
      "name": "Product return"
    },
    {
      "name": "Pickup point"
    },
    {
      "name": "Subscriptions"
    },
    {
      "name": "Eligibility"
    }
  ],
  "info": {
    "title": "Retailer to Woop",
    "description": "First, all informations about Woop API headed to retailers are centralized in this documentation. If you need precisions or have any questions, please contact internal technical team.\n\nTo use the API, you need to take your access you got during the creation of your account on Woop platform.\n\nThe current offered version is <b>Version 1.4.0</b>",
    "version": "1.4.0"
  },
  "servers": [
    {
      "url": "https://ret-api.recette.gcp.last-mile.fr",
      "description": "Staging URL"
    },
    {
      "url": "https://ret-api.preprod.gcp.last-mile.fr",
      "description": "Pre-prod URL"
    },
    {
      "url": "https://retailer.last-mile.fr",
      "description": "Prod URL"
    }
  ],
  "paths": {
    "/health": {
      "get": {
        "tags": [
          "Health"
        ],
        "description": "Check if application is operational.",
        "operationId": "getHealth",
        "responses": {
          "204": {
            "description": "Service is operational"
          }
        },
        "security": [],
        "summary": "Health"
      }
    },
    "/collects": {
      "post": {
        "tags": [
          "Picking"
        ],
        "description": "Cette méthode permet d’effectuer une demande de retrait dans un emplacement de prélèvement précis. Dès la demande validée, l’ordre de retrait sera alors créé instantanément.",
        "operationId": "postCollects",
        "parameters": [
          {
            "$ref": "#/components/parameters/apiVersion"
          }
        ],
        "requestBody": {
          "required": true,
          "description": "Contient les informations de création de la demande de retrait.",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/postCollects"
              },
              "examples": {
                "Example": {
                  "value": {
                    "reference": "CN123456789FR59",
                    "storeId": "MAG01",
                    "location": {
                      "type": "exchangePlace",
                      "id": "DRIVE-59-001"
                    },
                    "customer": {
                      "firstName": "Michel",
                      "lastName": "Dupont",
                      "phone": "+33600000000",
                      "email": "michel.dupont@mail.fr",
                      "language": "fr",
                      "timezone": "Europe/Paris"
                    },
                    "packages": [
                      {
                        "length": {
                          "value": 15,
                          "unit": "cm"
                        },
                        "width": {
                          "value": 15,
                          "unit": "cm"
                        },
                        "height": {
                          "value": 1.2,
                          "unit": "m"
                        },
                        "weight": {
                          "value": 560,
                          "unit": "g"
                        },
                        "products": [
                          {
                            "type": "TYPOLOGY_GENERIC",
                            "ean": "978020137962",
                            "cug": "123456",
                            "label": "T-Shirt XL Jaune",
                            "quantity": 1
                          }
                        ],
                        "quantity": 1
                      }
                    ]
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Création de la demande de retrait réussie",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "id": {
                      "type": "string",
                      "example": "4f802782-bf37-4499-a50d-c7d0169c670d"
                    }
                  }
                },
                "examples": {
                  "example": {
                    "value": {
                      "id": "4f802782-bf37-4499-a50d-c7d0169c670d"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Elements manquants et/ou incorrect dans le body",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/errorCode"
                },
                "examples": {
                  "Example": {
                    "value": {
                      "statusCode": 400,
                      "error": "Bad Request",
                      "message": "child \"location\" fails because [child \"addressLine1\" fails because [\"addressLine1\" is required], child \"id\" fails because [\"id\" is required]]",
                      "validation": {
                        "source": "payload",
                        "keys": [
                          "location.addressLine1",
                          "location.id"
                        ]
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Vous n'êtes pas autorisé à accéder à cet élément"
          },
          "403": {
            "description": "Création de demande de retrait impossible\n\n[Voir la liste des raisons](https://woop.stoplight.io/docs/retailer/docs/Mod%C3%A8les/reasons.md)",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/errorCode"
                },
                "examples": {
                  "example": {
                    "value": {
                      "statusCode": 403,
                      "error": "Forbidden",
                      "message": "Store doesn't exist or is inactive"
                    }
                  }
                }
              }
            }
          },
          "409": {
            "description": "Une demande de retrait avec cette réference existe dèjà dans la plateforme.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/errorCode"
                },
                "examples": {
                  "example": {
                    "value": {
                      "statusCode": 409,
                      "error": "Conflict",
                      "message": "Request failed with status code 409"
                    }
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "oAuth2ClientCredentials": []
          }
        ],
        "summary": "Effectuer une demande de retrait de commande"
      }
    },
    "/orders": {
      "post": {
        "tags": [
          "Order"
        ],
        "description": "Cette méthode permet de créer une commande côté Woop.\nDès la commande validée, un ensemble de devis sera envoyé aux différents transporteurs. L'ordre de transport sera alors créé lorsque l’un des devis aura été validé.",
        "operationId": "postOrders",
        "parameters": [
          {
            "$ref": "#/components/parameters/apiVersion"
          }
        ],
        "requestBody": {
          "required": true,
          "description": "Contient les informations de création de la commande.",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/postOrders"
              },
              "examples": {
                "Exemple par défaut": {
                  "value": {
                    "orderId": "65z4eq1d6q54zd1",
                    "referenceNumber": "65q41zdq65z14",
                    "storeId": "AX645",
                    "picking": {
                      "location": {
                        "type": "address",
                        "addressLine1": "237 rue du ballon",
                        "postalCode": "59110",
                        "city": "La Madeleine",
                        "country": "FR"
                      },
                      "interval": [
                        {
                          "start": "2019-11-27T12:00:00+0000",
                          "end": "2019-11-27T14:00:00+0000"
                        }
                      ],
                      "contact": {
                        "firstName": "Michel",
                        "lastName": "Dupont",
                        "phone": "+33600000000",
                        "email": "michel.dupont@mail.fr",
                        "language": "fr",
                        "timezone": "Europe/Paris"
                      }
                    },
                    "delivery": {
                      "location": {
                        "type": "address",
                        "addressLine1": "165 avenue de Bretagne",
                        "elevator": true,
                        "floor": 3,
                        "postalCode": "59000",
                        "city": "Lille",
                        "country": "FR"
                      },
                      "infos": "La rue est en travaux",
                      "interval": [
                        {
                          "start": "2019-11-28T13:30:00+0000",
                          "end": "2019-11-28T14:30:00+0000"
                        }
                      ],
                      "contact": {
                        "firstName": "Pierre",
                        "lastName": "Dupond",
                        "phone": "+33600000000",
                        "email": "pierre.dupond@mail.fr",
                        "language": "fr",
                        "timezone": "Europe/Paris"
                      }
                    },
                    "packages": [
                      {
                        "length": {
                          "value": 15,
                          "unit": "cm"
                        },
                        "width": {
                          "value": 15,
                          "unit": "cm"
                        },
                        "height": {
                          "value": 1.2,
                          "unit": "m"
                        },
                        "weight": {
                          "value": 560,
                          "unit": "g"
                        },
                        "references": [
                          "123456789A",
                          "123456789B",
                          "123456789C",
                          "123456789D",
                          "123456789E"
                        ],
                        "products": [
                          {
                            "type": "TYPOLOGY_GENERIC",
                            "ean": "4dq86zd4q6zd4q64",
                            "cug": "q56zd4q65d4q",
                            "label": "Lampe",
                            "quantity": 1
                          }
                        ],
                        "quantity": 5
                      }
                    ],
                    "services": [
                      "SERVICE_SELECTED_ROOM"
                    ]
                  }
                },
                "Exemple avec assemblage": {
                  "value": {
                    "orderId": "65z4eq1d6q54zd1",
                    "referenceNumber": "65q41zdq65z14",
                    "storeId": "AX645",
                    "picking": {
                      "location": {
                        "type": "address",
                        "addressLine1": "237 rue du ballon",
                        "postalCode": "59110",
                        "city": "La Madeleine",
                        "country": "FR"
                      },
                      "interval": [
                        {
                          "start": "2019-11-27T12:00:00+0000",
                          "end": "2019-11-27T14:00:00+0000"
                        }
                      ],
                      "contact": {
                        "firstName": "Michel",
                        "lastName": "Dupont",
                        "phone": "+33600000000",
                        "email": "michel.dupont@mail.fr",
                        "language": "fr",
                        "timezone": "Europe/Paris"
                      }
                    },
                    "delivery": {
                      "location": {
                        "type": "address",
                        "addressLine1": "165 avenue de Bretagne",
                        "elevator": true,
                        "floor": 3,
                        "postalCode": "59000",
                        "city": "Lille",
                        "country": "FR"
                      },
                      "infos": "La rue est en travaux",
                      "interval": [
                        {
                          "start": "2019-11-28T13:30:00+0000",
                          "end": "2019-11-28T14:30:00+0000"
                        }
                      ],
                      "contact": {
                        "firstName": "Pierre",
                        "lastName": "Dupond",
                        "phone": "+33600000000",
                        "email": "pierre.dupond@mail.fr",
                        "language": "fr",
                        "timezone": "Europe/Paris"
                      }
                    },
                    "packages": [
                      {
                        "length": {
                          "value": 15,
                          "unit": "cm"
                        },
                        "width": {
                          "value": 15,
                          "unit": "cm"
                        },
                        "height": {
                          "value": 1.2,
                          "unit": "m"
                        },
                        "weight": {
                          "value": 560,
                          "unit": "g"
                        },
                        "references": [
                          "123456789A",
                          "123456789B",
                          "123456789C",
                          "123456789D",
                          "123456789E"
                        ],
                        "products": [
                          {
                            "type": "TYPOLOGY_GENERIC",
                            "ean": "4dq86zd4q6zd4q64",
                            "cug": "q56zd4q65d4q",
                            "label": "Lampe",
                            "quantity": 1
                          }
                        ],
                        "quantity": 5
                      }
                    ],
                    "services": [
                      "SERVICE_ASSEMBLY"
                    ],
                    "productsPrice": {
                      "value": 30,
                      "currrency": "EUR"
                    }
                  }
                },
                "Exemple de livraison point relais": {
                  "value": {
                    "orderId": "65z4eq1d6q54zd1",
                    "referenceNumber": "65q41zdq65z14",
                    "storeId": "AX645",
                    "picking": {
                      "location": {
                        "type": "pickupPoint",
                        "carrierCode": "carrierX",
                        "id": "36JGZ7"
                      },
                      "interval": [
                        {
                          "start": "2019-11-27T12:00:00+0000",
                          "end": "2019-11-27T14:00:00+0000"
                        }
                      ],
                      "contact": {
                        "firstName": "Michel",
                        "lastName": "Dupont",
                        "phone": "+33600000000",
                        "email": "michel.dupont@mail.fr",
                        "language": "fr",
                        "timezone": "Europe/Paris"
                      }
                    },
                    "delivery": {
                      "location": {
                        "type": "pickupPoint",
                        "carrierCode": "carrierX",
                        "id": "19GON"
                      },
                      "infos": "La rue est en travaux",
                      "interval": [
                        {
                          "start": "2019-11-28T13:30:00+0000",
                          "end": "2019-11-28T14:30:00+0000"
                        }
                      ],
                      "contact": {
                        "firstName": "Pierre",
                        "lastName": "Dupond",
                        "phone": "+33600000000",
                        "email": "pierre.dupond@mail.fr",
                        "language": "fr",
                        "timezone": "Europe/Paris"
                      }
                    },
                    "packages": [
                      {
                        "length": {
                          "value": 15,
                          "unit": "cm"
                        },
                        "width": {
                          "value": 15,
                          "unit": "cm"
                        },
                        "height": {
                          "value": 1.2,
                          "unit": "m"
                        },
                        "weight": {
                          "value": 560,
                          "unit": "g"
                        },
                        "references": [
                          "123456789A",
                          "123456789B",
                          "123456789C",
                          "123456789D",
                          "123456789E"
                        ],
                        "products": [
                          {
                            "type": "TYPOLOGY_GENERIC",
                            "ean": "4dq86zd4q6zd4q64",
                            "cug": "q56zd4q65d4q",
                            "label": "Lampe",
                            "quantity": 1
                          }
                        ],
                        "quantity": 5
                      }
                    ],
                    "services": [
                      "SERVICE_SELECTED_ROOM"
                    ]
                  }
                },
                "Exemple de livraison en point de prélèvement": {
                  "value": {
                    "orderId": "65z4eq1d6q54zd1",
                    "referenceNumber": "65q41zdq65z14",
                    "storeId": "AX645",
                    "picking": {
                      "location": {
                        "type": "exchangePlace",
                        "id": "EXCHANGE PLACE 1"
                      },
                      "interval": [
                        {
                          "start": "2019-11-27T12:00:00+0000",
                          "end": "2019-11-27T14:00:00+0000"
                        }
                      ],
                      "contact": {
                        "firstName": "Michel",
                        "lastName": "Dupont",
                        "phone": "+33600000000",
                        "email": "michel.dupont@mail.fr",
                        "language": "fr",
                        "timezone": "Europe/Paris"
                      }
                    },
                    "delivery": {
                      "location": {
                        "type": "exchangePlace",
                        "id": "EXCHANGE PLACE 2"
                      },
                      "infos": "La rue est en travaux",
                      "interval": [
                        {
                          "start": "2019-11-28T13:30:00+0000",
                          "end": "2019-11-28T14:30:00+0000"
                        }
                      ],
                      "contact": {
                        "firstName": "Pierre",
                        "lastName": "Dupond",
                        "phone": "+33600000000",
                        "email": "pierre.dupond@mail.fr",
                        "language": "fr",
                        "timezone": "Europe/Paris"
                      }
                    },
                    "packages": [
                      {
                        "length": {
                          "value": 15,
                          "unit": "cm"
                        },
                        "width": {
                          "value": 15,
                          "unit": "cm"
                        },
                        "height": {
                          "value": 1.2,
                          "unit": "m"
                        },
                        "weight": {
                          "value": 560,
                          "unit": "g"
                        },
                        "references": [
                          "123456789A",
                          "123456789B",
                          "123456789C",
                          "123456789D",
                          "123456789E"
                        ],
                        "products": [
                          {
                            "type": "TYPOLOGY_GENERIC",
                            "ean": "4dq86zd4q6zd4q64",
                            "cug": "q56zd4q65d4q",
                            "label": "Lampe",
                            "quantity": 1
                          }
                        ],
                        "quantity": 5
                      }
                    ],
                    "services": [
                      "SERVICE_ASSEMBLY"
                    ],
                    "tags": [
                      {
                        "key": "origin",
                        "value": "web"
                      }
                    ],
                    "productsPrice": {
                      "value": 30,
                      "currrency": "EUR"
                    }
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "la commande a bien été enregistrée"
          },
          "202": {
            "description": "la commande doit être complétée"
          },
          "400": {
            "description": "Elements manquants et/ou incorrect dans le body",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/errorCode"
                },
                "examples": {
                  "Example": {
                    "value": {
                      "statusCode": 400,
                      "error": "Bad Request",
                      "message": "child \"picking\" fails because [child \"interval\" fails because [\"interval\" at position 0 fails because [child \"start\" fails because [\"start\" is required]]]]",
                      "validation": {
                        "source": "payload",
                        "keys": [
                          "picking.interval.0.start"
                        ]
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Vous n'êtes pas autorisé à accéder à cet élément",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/errorCode"
                }
              }
            }
          },
          "403": {
            "description": "Création de l'ordre impossible\n\n[Voir la liste des raisons](https://woop.stoplight.io/docs/retailer/docs/Mod%C3%A8les/reasons.md)",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/errorCode"
                },
                "examples": {
                  "example": {
                    "value": {
                      "statusCode": 403,
                      "error": "Forbidden",
                      "message": "Store doesn't exist or is inactive",
                      "reasons": [
                        "STORE_NOT_FOUND"
                      ]
                    }
                  }
                }
              }
            }
          },
          "409": {
            "description": "Création de commande avec cet 'orderId' impossible",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/errorCode"
                },
                "examples": {
                  "example": {
                    "value": {
                      "statusCode": 409,
                      "error": "Conflict",
                      "message": "Conflict"
                    }
                  }
                }
              }
            }
          }
        },
        "summary": "Créer une commande"
      },
      "get": {
        "tags": [
          "Order"
        ],
        "description": "Cette méthode retourne les détails d'une ou de plusieurs commandes en fonction des filtres sélectionnés.",
        "operationId": "getOrders",
        "parameters": [
          {
            "$ref": "#/components/parameters/apiVersion"
          },
          {
            "$ref": "#/components/parameters/queryDeliveryStatus"
          },
          {
            "$ref": "#/components/parameters/queryPickingDate"
          },
          {
            "$ref": "#/components/parameters/queryStoreIdRequired"
          }
        ],
        "responses": {
          "200": {
            "description": "OK. Contient les commandes récupérées",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/responseOrder"
                },
                "examples": {
                  "Exemple par défaut": {
                    "value": {
                      "orders": [
                        {
                          "delivery": {
                            "externalDeliveryId": "123457",
                            "currentStatus": "DELIVERY_DELIVERED_OK",
                            "updatedAt": "2019-12-03T15:25:00+0000",
                            "interval": {
                              "start": "2019-12-03T15:00:00+0000",
                              "end": "2019-12-03T16:00:00+0000"
                            },
                            "trackingPageUrl:": "https://url_suivi_livraison"
                          },
                          "carrier": {
                            "name": "Transporteur A",
                            "contact": "Michel",
                            "claimUrl": "https://url_reclamation"
                          },
                          "price": {
                            "price": 15.12,
                            "currency": "EUR"
                          },
                          "order": {
                            "id": "q54zd65qzd465qz4d",
                            "currentStatus": "ORDER_DELIVERED",
                            "updatedAt": "2019-12-03T15:25:00+0000",
                            "referenceNumber": "q54zd65qzd465qz4d"
                          },
                          "picking": {
                            "interval": {
                              "start": "2019-12-02T13:00:00+0000",
                              "end": "2019-12-02T15:00:00+0000"
                            }
                          },
                          "packages": [
                            {
                              "id": "1324",
                              "reference": "B8413DD"
                            }
                          ]
                        },
                        {
                          "delivery": {
                            "externalDeliveryId": "123456",
                            "currentStatus": "DELIVERY_INIT",
                            "updatedAt": "2019-12-03T12:00:00+0000",
                            "interval": {
                              "start": "2019-12-07T12:00:00+0000",
                              "end": "2019-12-07T14:00:00+0000"
                            },
                            "trackingPageUrl:": "https://url_suivi_livraison"
                          },
                          "carrier": {
                            "name": "Transporteur A",
                            "contact": "Michel",
                            "claimUrl": "https://url_reclamation"
                          },
                          "order": {
                            "id": "65z4eq1d6q54zd1",
                            "currentStatus": "ORDER_CREATED",
                            "updatedAt": "2019-12-03T12:00:00+0000",
                            "referenceNumber": "65q41zdq65z14"
                          },
                          "picking": {
                            "interval": {
                              "start": "2019-12-06T13:30:00+0000",
                              "end": "2019-12-06T15:30:00+0000"
                            }
                          },
                          "packages": [
                            {
                              "id": "999",
                              "reference": "1323A"
                            }
                          ]
                        }
                      ]
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Elements manquants et/ou incorrect",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/errorCode"
                },
                "examples": {
                  "Example": {
                    "value": {
                      "statusCode": 400,
                      "error": "Bad Request",
                      "message": "child \"deliveryStatus\" fails because [\"deliveryStatus\" must be one of [DELIVERY_INIT]]",
                      "validation": {
                        "source": "query",
                        "keys": [
                          "deliveryStatus"
                        ]
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Vous n'êtes pas autorisé à accéder à cet élément",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/errorCode"
                },
                "examples": {}
              }
            }
          },
          "403": {
            "description": "Demande impossible pour ce 'storeId'",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/errorCode"
                },
                "examples": {
                  "example-1": {
                    "value": {
                      "statusCode": 403,
                      "error": "Forbidden",
                      "message": "Store doesn't exist or is inactive"
                    }
                  }
                }
              }
            }
          }
        },
        "summary": "Récupérer des commandes"
      }
    },
    "/orders/{orderId}": {
      "delete": {
        "tags": [
          "Order"
        ],
        "description": "Annulation d'une commande",
        "operationId": "deleteOrders",
        "parameters": [
          {
            "$ref": "#/components/parameters/apiVersion"
          },
          {
            "$ref": "#/components/parameters/pathOrderId"
          }
        ],
        "requestBody": {
          "required": true,
          "description": "Contient les informations d'annulation de la commande.",
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "reasons"
                ],
                "properties": {
                  "reasons": {
                    "description": "Motifs d’annulation",
                    "type": "array",
                    "items": {
                      "$ref": "#/components/schemas/cancelledReasons"
                    }
                  },
                  "comment": {
                    "type": "string",
                    "description": "Commentaire optionnel à ajouté si besoin lors de l’annulation"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "202": {
            "description": "L'annulation a bien été prise en compte, mais peut engendrer des frais supplémentaires"
          },
          "204": {
            "description": "Requête traitée avec succès"
          },
          "401": {
            "description": "Vous n'êtes pas autorisé à accéder à cet élément",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/errorCode"
                }
              }
            }
          },
          "403": {
            "description": "la commande ne peut être annulée",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/errorCode"
                },
                "examples": {}
              }
            }
          },
          "404": {
            "description": "Le 'orderId' n'existe pas",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/errorCode"
                },
                "examples": {
                  "example": {
                    "value": {
                      "statusCode": 404,
                      "error": "Not Found",
                      "message": "Not Found"
                    }
                  }
                }
              }
            }
          }
        },
        "summary": "Annuler une commande"
      },
      "get": {
        "tags": [
          "Order"
        ],
        "description": "Cette méthode retourne le détail d'une commande.",
        "operationId": "getOrder",
        "parameters": [
          {
            "$ref": "#/components/parameters/apiVersion"
          },
          {
            "$ref": "#/components/parameters/pathOrderId"
          }
        ],
        "responses": {
          "200": {
            "description": "OK. Contient la commande récupérée",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/responseOrder"
                },
                "examples": {
                  "Example": {
                    "value": {
                      "orders": [
                        {
                          "delivery": {
                            "externalDeliveryId": "123456",
                            "currentStatus": "DELIVERY_INIT",
                            "updatedAt": "2019-12-03T12:00:00+0000",
                            "interval": {
                              "start": "2019-12-07T12:00:00+0000",
                              "end": "2019-12-07T14:00:00+0000"
                            },
                            "trackingPageUrl:": "https://url_suivi_livraison"
                          },
                          "carrier": {
                            "name": "Transporteur A",
                            "contact": "Michel",
                            "claimUrl": "https://url_reclamation"
                          },
                          "price": {
                            "price": 15.12,
                            "currency": "EUR"
                          },
                          "order": {
                            "id": "65z4eq1d6q54zd1",
                            "currentStatus": "ORDER_CREATED",
                            "updatedAt": "2019-12-03T12:00:00+0000",
                            "referenceNumber": "65q41zdq65z14"
                          },
                          "picking": {
                            "interval": {
                              "start": "2019-12-06T13:30:00+0000",
                              "end": "2019-12-06T15:30:00+0000"
                            }
                          },
                          "packages": [
                            {
                              "id": "999",
                              "reference": "A123"
                            }
                          ]
                        }
                      ]
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Vous n'êtes pas autorisé à accéder à cet élément",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/errorCode"
                }
              }
            }
          }
        },
        "summary": "Récupérer une commande spécifique"
      },
      "patch": {
        "tags": [
          "Order"
        ],
        "description": "Cette méthode permet de modifier une commande. La mise à jour peut déclencher une annulation de la commande + création d’une nouvelle commande si les informations modifiées sont jugées importantes ou non et impacte directement la livraison.",
        "operationId": "patchOrder",
        "parameters": [
          {
            "$ref": "#/components/parameters/apiVersion"
          },
          {
            "$ref": "#/components/parameters/pathOrderId"
          }
        ],
        "requestBody": {
          "required": true,
          "description": "Contient les informations de mise à jour.",
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "orderId",
                  "storeId",
                  "picking",
                  "delivery",
                  "services",
                  "packages"
                ],
                "properties": {
                  "picking": {
                    "description": "Informations de l'emplacement de prélèvement",
                    "required": [
                      "location",
                      "interval",
                      "contact"
                    ],
                    "properties": {
                      "location": {
                        "$ref": "#/components/schemas/location"
                      },
                      "infos": {
                        "type": "string"
                      },
                      "interval": {
                        "type": "array",
                        "items": {
                          "$ref": "#/components/schemas/interval"
                        }
                      },
                      "contact": {
                        "$ref": "#/components/schemas/contact"
                      }
                    }
                  },
                  "delivery": {
                    "description": "Informations de l'emplacement de livraison",
                    "required": [
                      "location",
                      "interval",
                      "contact"
                    ],
                    "properties": {
                      "location": {
                        "$ref": "#/components/schemas/location"
                      },
                      "infos": {
                        "type": "string"
                      },
                      "interval": {
                        "type": "array",
                        "items": {
                          "$ref": "#/components/schemas/interval"
                        }
                      },
                      "contact": {
                        "$ref": "#/components/schemas/contact"
                      }
                    }
                  },
                  "packages": {
                    "type": "array",
                    "description": "Ensemble des colis",
                    "items": {
                      "$ref": "#/components/schemas/packages"
                    }
                  },
                  "services": {
                    "$ref": "#/components/schemas/services"
                  }
                }
              },
              "examples": {
                "Example": {
                  "value": {
                    "picking": {
                      "contact": {
                        "firstName": "Michel",
                        "lastName": "Dupont"
                      },
                      "location": {
                        "type": "address",
                        "addressLine1": "237 rue du ballon",
                        "postalCode": "59110",
                        "city": "La Madeleine",
                        "country": "FR"
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Requête traitée avec succès"
          },
          "401": {
            "description": "Vous n'êtes pas autorisé à accéder à cet élément",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/errorCode"
                }
              }
            }
          },
          "403": {
            "description": "Mise à jour de l'ordre impossible\n\n[Voir la liste des raisons](https://woop.stoplight.io/docs/retailer/docs/Mod%C3%A8les/reasons.md)",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/errorCode"
                }
              }
            }
          }
        },
        "summary": "Modifier une commande"
      }
    },
    "/orders/{orderId}/label": {
      "get": {
        "tags": [
          "Etiquette"
        ],
        "description": "Cette méthode permet de récupérer une étiquette de transport en fonction de l'identifiant de la commande. \nL’étiquette peut être récupérée sous plusieurs formats (à condition que le transporteur soit compatible avec ce format).",
        "operationId": "getLabelByOrder",
        "parameters": [
          {
            "$ref": "#/components/parameters/apiVersion"
          },
          {
            "$ref": "#/components/parameters/pathOrderId"
          },
          {
            "$ref": "#/components/parameters/queryMode"
          }
        ],
        "responses": {
          "200": {
            "description": "OK. Contient l'étiquette récupérée.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "description": "Informations de l'étiquette",
                  "properties": {
                    "base64": {
                      "type": "string",
                      "description": "L’étiquette est retournée en base64 au format indiqué lors de l’appel"
                    },
                    "trackingPageUrl": {
                      "type": "string",
                      "description": "Lien de la page de suivi de livraison"
                    }
                  },
                  "required": [
                    "base64",
                    "trackingPageUrl"
                  ]
                },
                "examples": {
                  "Example": {
                    "value": {
                      "base64": "AxfzFZEGEg ...",
                      "trackingPageUrl:": "https://url_suivi_livraison"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Vous n'êtes pas autorisé à accéder à cet élément",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/errorCode"
                }
              }
            }
          },
          "403": {
            "description": "Demande impossible pour ce 'orderId'",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/errorCode"
                },
                "examples": {
                  "example": {
                    "value": {
                      "statusCode": 403,
                      "error": "Forbidden",
                      "message": "Store doesn't exist or is inactive"
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "Le 'orderId' n'existe pas",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/errorCode"
                },
                "examples": {
                  "example": {
                    "value": {
                      "statusCode": 404,
                      "error": "Not Found",
                      "message": "Not Found"
                    }
                  }
                }
              }
            }
          }
        },
        "summary": "Récupérer une étiquette de transport"
      }
    },
    "/orders/{orderId}/return": {
      "post": {
        "tags": [
          "Retour produit"
        ],
        "description": "Cette méthode permet d'effectuer une demande de retour de produit d'une commande.",
        "operationId": "postProductReturn",
        "parameters": [
          {
            "$ref": "#/components/parameters/apiVersion"
          },
          {
            "$ref": "#/components/parameters/pathOrderId"
          }
        ],
        "requestBody": {
          "required": true,
          "description": "Contient les informations de la demande de retour produit.",
          "content": {
            "application/json": {
              "schema": {
                "allOf": [
                  {
                    "$ref": "#/components/schemas/postProductReturn"
                  }
                ]
              },
              "examples": {
                "Exemple par défaut": {
                  "value": {
                    "orderReturnId": "65z4eq1d6q54zd1",
                    "initialReferenceNumber": "65q41zdq65z14",
                    "storeId": "AX645",
                    "initialCarrier": true,
                    "picking": {
                      "location": {
                        "type": "address",
                        "addressLine1": "165 avenue de Bretagne",
                        "elevator": true,
                        "floor": 3,
                        "postalCode": "59000",
                        "city": "Lille",
                        "country": "FR"
                      },
                      "interval": [
                        {
                          "start": "2019-11-27T12:00:00+0000",
                          "end": "2019-11-27T14:00:00+0000"
                        }
                      ],
                      "contact": {
                        "firstName": "Michel",
                        "lastName": "Dupont",
                        "phone": "+33600000000",
                        "email": "michel.dupont@mail.fr",
                        "language": "fr",
                        "timezone": "Europe/Paris"
                      }
                    },
                    "delivery": {
                      "location": {
                        "type": "address",
                        "addressLine1": "237 rue du ballon",
                        "postalCode": "59110",
                        "city": "La Madeleine",
                        "country": "FR"
                      },
                      "infos": "La rue est en travaux",
                      "interval": [
                        {
                          "start": "2019-11-28T13:00:00+0000",
                          "end": "2019-11-28T15:00:00+0000"
                        }
                      ],
                      "contact": {
                        "firstName": "Pierre",
                        "lastName": "Dupond",
                        "phone": "+33600000000",
                        "email": "pierre.dupond@mail.fr",
                        "language": "fr",
                        "timezone": "Europe/Paris"
                      }
                    },
                    "packages": [
                      {
                        "length": {
                          "value": 15,
                          "unit": "cm"
                        },
                        "width": {
                          "value": 15,
                          "unit": "cm"
                        },
                        "height": {
                          "value": 1.2,
                          "unit": "m"
                        },
                        "weight": {
                          "value": 560,
                          "unit": "g"
                        },
                        "products": [
                          {
                            "type": "TYPOLOGY_GENERIC",
                            "ean": "4dq86zd4q6zd4q64",
                            "cug": "q56zd4q65d4q",
                            "label": "Lampe",
                            "quantity": 1
                          }
                        ],
                        "quantity": 5
                      }
                    ]
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Le retour a bien été enregistrée"
          },
          "400": {
            "description": "Elements manquants et/ou incorrect dans le body",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/errorCode"
                },
                "examples": {
                  "Example": {
                    "value": {
                      "statusCode": 400,
                      "error": "Bad Request",
                      "message": "child \"location\" fails because [child \"addressLine1\" fails because [\"addressLine1\" is required], child \"id\" fails because [\"id\" is required]]",
                      "validation": {
                        "source": "payload",
                        "keys": [
                          "location.addressLine1",
                          "location.id"
                        ]
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Vous n'êtes pas autorisé à accéder à cet élément",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/errorCode"
                }
              }
            }
          },
          "403": {
            "description": "Création d'un retour impossible ou l'état de la commande ne permet pas un retour produit\n\n[Voir la liste des raisons](https://woop.stoplight.io/docs/retailer/docs/Mod%C3%A8les/reasons.md)",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/errorCode"
                },
                "examples": {
                  "example": {
                    "value": {
                      "statusCode": 403,
                      "error": "Forbidden",
                      "message": "Store doesn't exist or is inactive"
                    }
                  }
                }
              }
            }
          },
          "409": {
            "description": "Création de retour de produit avec ce 'referenceNumber' impossible",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/errorCode"
                }
              }
            }
          }
        },
        "summary": "Effectuer un retour produit"
      }
    },
    "/orders/{orderId}/documents": {
      "get": {
        "tags": [
          "Document"
        ],
        "description": "Cette méthode permet de récupérer les informations des documents attachés à une commande.",
        "operationId": "getOrderDocuments",
        "parameters": [
          {
            "$ref": "#/components/parameters/pathOrderId"
          }
        ],
        "responses": {
          "200": {
            "description": "OK. Contient les documents",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "documents": {
                      "type": "array",
                      "description": "Liste des documents",
                      "items": {
                        "type": "object",
                        "properties": {
                          "id": {
                            "type": "string",
                            "description": "Identifiant du document"
                          },
                          "date": {
                            "type": "string",
                            "format": "date-time",
                            "description": "Date du document"
                          },
                          "name": {
                            "type": "string",
                            "description": "Nom du document"
                          },
                          "type": {
                            "type": "string",
                            "description": "Type de document",
                            "enum": [
                              "EVIDENCE",
                              "INVOICE",
                              "CONTRACT"
                            ]
                          }
                        }
                      }
                    }
                  }
                },
                "examples": {
                  "Example": {
                    "value": {
                      "documents": [
                        {
                          "id": "5efda342ajkj700012064b57",
                          "date": "2020-07-02T09:05:06.361Z",
                          "type": "EVIDENCE",
                          "name": "picture_1593680706.pdf"
                        },
                        {
                          "id": "5efda342ajkj700012064b55",
                          "date": "2020-07-02T09:06:06.361Z",
                          "type": "INVOICE",
                          "name": "invoice_1593680706.pdf"
                        }
                      ]
                    }
                  }
                }
              }
            }
          },
          "204": {
            "description": "Pas de documents sur cette commande"
          },
          "401": {
            "description": "Vous n'êtes pas autorisé à accéder à cet élément",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/errorCode"
                }
              }
            }
          },
          "404": {
            "description": "Le 'orderId' n'existe pas",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/errorCode"
                },
                "examples": {
                  "example": {
                    "value": {
                      "statusCode": 404,
                      "error": "Not Found",
                      "message": "Not Found"
                    }
                  }
                }
              }
            }
          }
        },
        "summary": "Récupérer les documents d'une commande"
      }
    },
    "/orders/{orderId}/documents/download": {
      "get": {
        "tags": [
          "Document"
        ],
        "description": "Cette méthode permet de télécharger les documents de la commande en zip.",
        "operationId": "downloadOrderDocuments",
        "parameters": [
          {
            "$ref": "#/components/parameters/pathOrderId"
          }
        ],
        "responses": {
          "200": {
            "description": "OK. Contient les documents au format zip.",
            "content": {
              "application/zip": {
                "schema": {
                  "type": "string",
                  "format": "binary",
                  "description": ""
                },
                "examples": {}
              }
            }
          },
          "204": {
            "description": "Pas de documents sur cette commande."
          },
          "401": {
            "description": "Vous n'êtes pas autorisé à accéder à cet élément.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/errorCode"
                }
              }
            }
          },
          "404": {
            "description": "Le 'orderId' n'existe pas",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/errorCode"
                },
                "examples": {
                  "example": {
                    "value": {
                      "statusCode": 404,
                      "error": "Not Found",
                      "message": "Not Found"
                    }
                  }
                }
              }
            }
          }
        },
        "summary": "Télécharger les documents d'une commande"
      }
    },
    "/orders/{orderId}/documents/{documentId}/download": {
      "get": {
        "tags": [
          "Document"
        ],
        "description": "Cette méthode permet de télécharger un document d'une commande",
        "operationId": "downloadOrderDocument",
        "parameters": [
          {
            "$ref": "#/components/parameters/pathOrderId"
          },
          {
            "$ref": "#/components/parameters/pathDocumentId"
          }
        ],
        "responses": {
          "200": {
            "description": "OK. Contient le document au format original du document",
            "content": {
              "application/octet-stream": {
                "schema": {
                  "type": "string",
                  "format": "binary"
                }
              }
            }
          },
          "401": {
            "description": "Vous n'êtes pas autorisé à accéder à cet élément",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/errorCode"
                }
              }
            }
          },
          "404": {
            "description": "Le 'orderId' ou 'documentId' n'existe pas",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/errorCode"
                },
                "examples": {
                  "example": {
                    "value": {
                      "statusCode": 404,
                      "error": "Not Found",
                      "message": "Not Found"
                    }
                  }
                }
              }
            }
          }
        },
        "summary": "Télécharger un document pour une commande"
      }
    },
    "/pickupPoints": {
      "get": {
        "tags": [
          "Point relais"
        ],
        "description": "Cette méthode permet de récupérer la liste des point relais des transporteurs situés autour d’une géolocalisation donnée.",
        "operationId": "getPickupPoints",
        "parameters": [
          {
            "$ref": "#/components/parameters/apiVersion"
          },
          {
            "$ref": "#/components/parameters/queryLatitude"
          },
          {
            "$ref": "#/components/parameters/queryLongitude"
          },
          {
            "$ref": "#/components/parameters/queryNumber"
          },
          {
            "$ref": "#/components/parameters/queryKilometricDistance"
          },
          {
            "$ref": "#/components/parameters/queryPickupPointType"
          },
          {
            "$ref": "#/components/parameters/queryPickupPointCategory"
          },
          {
            "$ref": "#/components/parameters/queryStoreId"
          },
          {
            "$ref": "#/components/parameters/queryPickupPointCarrierCode"
          }
        ],
        "responses": {
          "200": {
            "description": "OK. Contient les point relais récupérés.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "pickupPoints": {
                      "type": "array",
                      "description": "Informations sur les point relais",
                      "items": {
                        "type": "object",
                        "properties": {
                          "address": {
                            "allOf": [
                              {
                                "$ref": "#/components/schemas/address"
                              },
                              {
                                "type": "object",
                                "properties": {
                                  "title": {
                                    "type": "string"
                                  }
                                },
                                "required": [
                                  "title"
                                ]
                              }
                            ],
                            "description": "Adresse du point relais"
                          },
                          "coordinates": {
                            "$ref": "#/components/schemas/coordinates"
                          },
                          "id": {
                            "type": "string",
                            "description": "Id du point relais"
                          },
                          "carrier": {
                            "$ref": "#/components/schemas/pickupPointCarrier"
                          },
                          "openingHours": {
                            "type": "object",
                            "description": "Horaires d'ouverture du point relais",
                            "properties": {
                              "monday": {
                                "type": "array",
                                "description": "Horaires du lundi",
                                "items": {
                                  "$ref": "#/components/schemas/interval_hour"
                                }
                              },
                              "tuesday": {
                                "type": "array",
                                "description": "Horaires du mardi",
                                "items": {
                                  "$ref": "#/components/schemas/interval_hour"
                                }
                              },
                              "wednesday": {
                                "type": "array",
                                "description": "Horaires du mercredi",
                                "items": {
                                  "$ref": "#/components/schemas/interval_hour"
                                }
                              },
                              "thursday": {
                                "type": "array",
                                "description": "Horaires du jeudi",
                                "items": {
                                  "$ref": "#/components/schemas/interval_hour"
                                }
                              },
                              "friday": {
                                "type": "array",
                                "description": "Horaires du vendredi",
                                "items": {
                                  "$ref": "#/components/schemas/interval_hour"
                                }
                              },
                              "saturday": {
                                "type": "array",
                                "description": "Horaires du samedi",
                                "items": {
                                  "$ref": "#/components/schemas/interval_hour"
                                }
                              },
                              "sunday": {
                                "type": "array",
                                "description": "Horaires du dimanche",
                                "items": {
                                  "$ref": "#/components/schemas/interval_hour"
                                }
                              }
                            }
                          },
                          "maxWeight": {
                            "$ref": "#/components/schemas/mass"
                          }
                        },
                        "required": [
                          "address",
                          "coordinates",
                          "id",
                          "carrier",
                          "openingHours",
                          "maxWeight"
                        ]
                      }
                    }
                  }
                },
                "examples": {
                  "Example": {
                    "value": {
                      "pickupPoints": [
                        {
                          "address": {
                            "addressLine1": "168 RUE DES POSTES",
                            "postalCode": "59000",
                            "city": "Lille",
                            "country": "FR",
                            "title": "Point relais"
                          },
                          "coordinates": {
                            "latitude": 50.638386,
                            "longitude": 3.077183
                          },
                          "id": "q251zd564qz",
                          "carrier": {
                            "code": "transporteur1",
                            "name": "Transporteur A"
                          },
                          "openingHours": {
                            "monday": [
                              {
                                "start": "08:00",
                                "end": "19:30"
                              }
                            ],
                            "tuesday": [
                              {
                                "start": "08:00",
                                "end": "19:30"
                              }
                            ],
                            "wednesday": [
                              {
                                "start": "08:00",
                                "end": "19:30"
                              }
                            ],
                            "thursday": [
                              {
                                "start": "08:00",
                                "end": "19:30"
                              }
                            ],
                            "friday": [
                              {
                                "start": "08:00",
                                "end": "19:30"
                              }
                            ],
                            "saturday": [
                              {
                                "start": "08:00",
                                "end": "16:00"
                              }
                            ],
                            "sunday": [
                              {
                                "start": "08:00",
                                "end": "12:00"
                              }
                            ]
                          },
                          "maxWeight": {
                            "value": 250,
                            "unit": "kg"
                          }
                        }
                      ]
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Elements manquants et/ou incorrect dans le body",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "reasons": {
                      "type": "array",
                      "items": {
                        "type": "string",
                        "example": "Missing argument 'xxxxx'"
                      }
                    }
                  }
                },
                "examples": {
                  "Example": {
                    "value": {
                      "reasons": [
                        "Missing argument 'xxxxx'"
                      ]
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Vous n'êtes pas autorisé à accéder à cet élément.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/errorCode"
                }
              }
            }
          },
          "403": {
            "description": "Demande impossible pour le 'storeId'",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/errorCode"
                },
                "examples": {
                  "example": {
                    "value": {
                      "statusCode": 403,
                      "error": "Forbidden",
                      "message": "Store doesn't exist or is inactive"
                    }
                  }
                }
              }
            }
          }
        },
        "summary": "Rechercher un ensemble de point-relais"
      }
    },
    "/subscriptions": {
      "post": {
        "tags": [
          "Souscriptions"
        ],
        "description": "Cette méthode permet d'initialiser les souscriptions à nos APIs.\n\nPlus d'informations dans la documentation dédiée \"Souscriptions\"",
        "operationId": "postSubscription",
        "parameters": [
          {
            "$ref": "#/components/parameters/apiVersion"
          }
        ],
        "requestBody": {
          "required": true,
          "description": "Contient les informations des souscriptions.",
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "description": "Informations de souscriptions",
                "required": [
                  "callbacks"
                ],
                "properties": {
                  "callbacks": {
                    "type": "object",
                    "description": "Callbacks des événements",
                    "required": [
                      "carrier",
                      "status",
                      "score"
                    ],
                    "properties": {
                      "carrier": {
                        "type": "object",
                        "description": "Callback permettant de recevoir le choix du transporteur.",
                        "required": [
                          "url"
                        ],
                        "properties": {
                          "url": {
                            "type": "string",
                            "description": "Url de la route d'API"
                          },
                          "version": {
                            "type": "string",
                            "description": "Version d'API pour ce callback",
                            "example": "1.1.0"
                          }
                        }
                      },
                      "status": {
                        "type": "object",
                        "required": [
                          "url"
                        ],
                        "description": "Callback permettant de recevoir les changements de statut",
                        "properties": {
                          "url": {
                            "type": "string",
                            "description": "Url de la route d'API"
                          },
                          "version": {
                            "type": "string",
                            "description": "Version d'API pour ce callback",
                            "example": "1.1.0"
                          }
                        }
                      },
                      "score": {
                        "type": "object",
                        "description": "Callback permettant de recevoir les notes client",
                        "required": [
                          "url"
                        ],
                        "properties": {
                          "url": {
                            "type": "string",
                            "description": "Url de la route d'API."
                          },
                          "version": {
                            "type": "string",
                            "description": "Version d'API pour ce callback.",
                            "example": "1.1.0"
                          }
                        }
                      },
                      "deliveryClosure": {
                        "type": "object",
                        "description": "Callback permettant de recevoir les informations de facturation",
                        "required": [
                          "url"
                        ],
                        "properties": {
                          "url": {
                            "type": "string",
                            "description": "Url de la route d'API."
                          },
                          "version": {
                            "type": "string",
                            "description": "Version d'API pour ce callback",
                            "example": "1.1.0"
                          }
                        }
                      },
                      "event": {
                        "type": "object",
                        "description": "Callback permettant de recevoir les notifications envoyées au client",
                        "required": [
                          "url"
                        ],
                        "properties": {
                          "url": {
                            "type": "string",
                            "description": "Url de la route d'API"
                          },
                          "version": {
                            "type": "string",
                            "description": "Version d'API pour ce callback",
                            "example": "1.1.0"
                          }
                        }
                      }
                    }
                  },
                  "headers": {
                    "type": "array",
                    "description": "Headers HTTP supplémentaires à envoyer lors des callbacks",
                    "items": {
                      "type": "object",
                      "required": [
                        "key",
                        "value"
                      ],
                      "properties": {
                        "key": {
                          "type": "string",
                          "description": "Clé/nom du header"
                        },
                        "value": {
                          "type": "string",
                          "description": "Valeur du header"
                        }
                      }
                    }
                  },
                  "auth": {
                    "type": "object",
                    "description": "Configuration de l'authentification à votre API",
                    "properties": {
                      "basic": {
                        "type": "object",
                        "description": "A definir si la méthode d'authentification à l'API voulue est basic",
                        "required": [
                          "username",
                          "password"
                        ],
                        "properties": {
                          "username": {
                            "type": "string"
                          },
                          "password": {
                            "type": "string"
                          }
                        }
                      },
                      "oauth2": {
                        "type": "object",
                        "description": "A definir si la méthode d'authentification à l'API voulue est oauth2",
                        "required": [
                          "client_id",
                          "client_secret",
                          "tokenEndPoint"
                        ],
                        "properties": {
                          "client_id": {
                            "type": "string"
                          },
                          "client_secret": {
                            "type": "string"
                          },
                          "audience": {
                            "type": "string"
                          },
                          "grant_type": {
                            "type": "string"
                          },
                          "tokenEndPoint": {
                            "type": "string",
                            "description": "Url permettant de recupérer le token d'accès en fonction du clientId et du clientSecret"
                          }
                        }
                      },
                      "token": {
                        "type": "object",
                        "description": "A définir si la méthode d'authentification donne un bearer token à partir d'un username/password",
                        "required": [
                          "username",
                          "password",
                          "endpoint"
                        ],
                        "properties": {
                          "username": {
                            "type": "string"
                          },
                          "password": {
                            "type": "string"
                          },
                          "endpoint": {
                            "type": "string",
                            "description": "Url permettant de recupérer le token d'accès"
                          }
                        }
                      }
                    }
                  }
                }
              },
              "examples": {
                "Basic": {
                  "value": {
                    "callbacks": {
                      "carrier": {
                        "url": "https://my_url/orders/{orderId}/carrier",
                        "version": "1.1.0"
                      },
                      "status": {
                        "url": "https://my_url/orders/{orderId}/status",
                        "version": "1.1.0"
                      },
                      "score": {
                        "url": "https://my_url/orders/{orderId}/score",
                        "version": "1.1.0"
                      },
                      "deliveryClosure": {
                        "url": "https://my_url/orders/{orderId}/deliveryClosure",
                        "version": "1.1.0"
                      },
                      "event": {
                        "url": "https://my_url/orders/{orderId}/event",
                        "version": "1.1.0"
                      }
                    },
                    "headers": [
                      {
                        "key": "x-api-key",
                        "value": "KJK13I7Y12"
                      }
                    ],
                    "auth": {
                      "basic": {
                        "username": "admin",
                        "password": "1234"
                      }
                    }
                  }
                },
                "OAuth2": {
                  "value": {
                    "callbacks": {
                      "carrier": {
                        "url": "https://my_url/orders/{orderId}/carrier",
                        "version": "1.1.0"
                      },
                      "status": {
                        "url": "https://my_url/orders/{orderId}/status",
                        "version": "1.1.0"
                      },
                      "score": {
                        "url": "https://my_url/orders/{orderId}/score",
                        "version": "1.1.0"
                      },
                      "deliveryClosure": {
                        "url": "https://my_url/orders/{orderId}/deliveryClosure",
                        "version": "1.1.0"
                      },
                      "event": {
                        "url": "https://my_url/orders/{orderId}/event",
                        "version": "1.1.0"
                      }
                    },
                    "auth": {
                      "oauth2": {
                        "client_id": "8664fb6e578be877cdd16e2c13e1db3e",
                        "client_secret": "4bb43097953c6d3ffae77b77f4716bba",
                        "audience": "carrier.last-mile.fr",
                        "grant_type": "oAuth2ClientCredentials",
                        "tokenEndPoint": "token.last-mile.fr"
                      }
                    }
                  }
                },
                "Token": {
                  "value": {
                    "callbacks": {
                      "carrier": {
                        "url": "https://my_url/orders/{orderId}/carrier",
                        "version": "1.1.0"
                      },
                      "status": {
                        "url": "https://my_url/orders/{orderId}/status",
                        "version": "1.1.0"
                      },
                      "score": {
                        "url": "https://my_url/orders/{orderId}/score",
                        "version": "1.1.0"
                      },
                      "deliveryClosure": {
                        "url": "https://my_url/orders/{orderId}/deliveryClosure",
                        "version": "1.1.0"
                      },
                      "event": {
                        "url": "https://my_url/orders/{orderId}/event",
                        "version": "1.1.0"
                      }
                    },
                    "auth": {
                      "token": {
                        "username": "admin",
                        "password": "1234",
                        "endpoint": "token.last-mile.fr"
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "responses": {
          "204": {
            "description": "Requête traitée avec succès"
          },
          "400": {
            "description": "Elements manquants et/ou incorrect dans le body",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "reasons": {
                      "type": "array",
                      "items": {
                        "type": "string",
                        "example": "Missing argument 'xxxxx'"
                      }
                    }
                  }
                },
                "examples": {
                  "Example": {
                    "value": {
                      "reasons": [
                        "Missing argument 'xxxxx'"
                      ]
                    }
                  }
                }
              }
            }
          }
        },
        "summary": "Initialisation souscriptions"
      }
    },
    "/eligibilities/services": {
      "post": {
        "summary": "Éligibilité des services",
        "operationId": "postServices",
        "responses": {
          "200": {
            "description": "Liste des services éligibles.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "description": "Liste des services",
                  "properties": {
                    "services": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "required": [
                          "type"
                        ],
                        "properties": {
                          "type": {
                            "$ref": "#/components/schemas/deliveryService"
                          },
                          "pickupPointTypes": {
                            "type": "array",
                            "description": "Liste des types des point relais éligibles (pour le service SERVICE_PICKUP_POINT)",
                            "items": {
                              "$ref": "#/components/schemas/pickupPointType"
                            }
                          },
                          "pickupPointCategories": {
                            "type": "array",
                            "description": "Liste des catégories des point relais éligibles (pour le service SERVICE_PICKUP_POINT)",
                            "items": {
                              "$ref": "#/components/parameters/queryPickupPointCategory"
                            }
                          }
                        }
                      }
                    }
                  }
                },
                "examples": {
                  "Example": {
                    "value": {
                      "services": [
                        {
                          "type": "SERVICE_PICKUP_POINT",
                          "pickupPointTypes": [
                            "PICKUP_POINT_AGENCY",
                            "PICKUP_POINT_POST_OFFICE",
                            "PICKUP_POINT_RELAY_WITH_LOCKER",
                            "PICKUP_POINT_RELAY_WITHOUT_LOCKER",
                            "PICKUP_POINT_ALL"
                          ],
                          "pickupPointCategories": [
                            "PICKUP_POINT_STANDARD",
                            "PICKUP_POINT_XL",
                            "PICKUP_POINT_XXL",
                            "PICKUP_POINT_DRIVE"
                          ]
                        },
                        {
                          "type": "SERVICE_FRONT_HOME"
                        },
                        {
                          "type": "SERVICE_INSTALL"
                        }
                      ]
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Elements manquants et/ou incorrect dans le body.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/errorCode"
                },
                "examples": {
                  "example": {
                    "value": {
                      "reasons": [
                        "Missing argument 'xxxxx'"
                      ]
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Vous n'êtes pas autorisé à accéder à cet élément.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/errorCode"
                }
              }
            }
          }
        },
        "parameters": [
          {
            "$ref": "#/components/parameters/apiVersion"
          }
        ],
        "description": "Cette méthode retourne les services de livraison possible pour une commande. En fonction du point de départ de la commande, du point d'arrivé (optionnel) et du contenu du panier client, la méthode retourne l'ensemble des services disponibles. ",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/postServices"
              },
              "examples": {
                "Exemple par défaut": {
                  "value": {
                    "picking": {
                      "location": {
                        "type": "address",
                        "addressLine1": "237 rue du ballon",
                        "postalCode": "59110",
                        "city": "La Madeleine",
                        "country": "FR"
                      }
                    },
                    "packages": [
                      {
                        "length": {
                          "value": 15,
                          "unit": "cm"
                        },
                        "width": {
                          "value": 15,
                          "unit": "cm"
                        },
                        "height": {
                          "value": 1.2,
                          "unit": "m"
                        },
                        "weight": {
                          "value": 560,
                          "unit": "g"
                        },
                        "products": [
                          {
                            "type": "TYPOLOGY_GENERIC",
                            "ean": "4dq86zd4q6zd4q64",
                            "cug": "q56zd4q65d4q",
                            "label": "Lampe",
                            "quantity": 1
                          }
                        ],
                        "quantity": 1
                      }
                    ],
                    "storeId": "MAG01"
                  }
                },
                "Exemple avec point d'arrivé": {
                  "value": {
                    "picking": {
                      "location": {
                        "type": "address",
                        "addressLine1": "237 rue du ballon",
                        "postalCode": "59110",
                        "city": "La Madeleine",
                        "country": "FR"
                      }
                    },
                    "delivery": {
                      "location": {
                        "type": "address",
                        "addressLine1": "179 Boulevard de Turin",
                        "postalCode": "59000",
                        "city": "Lille",
                        "country": "FR"
                      }
                    },
                    "packages": [
                      {
                        "length": {
                          "value": 15,
                          "unit": "cm"
                        },
                        "width": {
                          "value": 15,
                          "unit": "cm"
                        },
                        "height": {
                          "value": 1.2,
                          "unit": "m"
                        },
                        "weight": {
                          "value": 560,
                          "unit": "g"
                        },
                        "products": [
                          {
                            "type": "TYPOLOGY_GENERIC",
                            "ean": "4dq86zd4q6zd4q64",
                            "cug": "q56zd4q65d4q",
                            "label": "Lampe",
                            "quantity": 1
                          }
                        ],
                        "quantity": 1
                      }
                    ],
                    "storeId": "MAG01"
                  }
                }
              }
            }
          },
          "description": "Contient les informations de demande d'éligibilité."
        },
        "tags": [
          "Éligibilité"
        ]
      }
    },
    "/orders/download": {
      "get": {
        "summary": "Télécharger le bordereau de remise par transporteur",
        "tags": [
          "Document"
        ],
        "responses": {
          "200": {
            "description": "OK. Contient le document au format original du document",
            "headers": {},
            "content": {
              "application/json": {
                "schema": {
                  "oneOf": [
                    {
                      "type": "object",
                      "properties": {
                        "base64": {
                          "type": "string"
                        }
                      }
                    },
                    {
                      "type": "string",
                      "description": "Contenu du fichier"
                    }
                  ]
                }
              }
            }
          },
          "204": {
            "description": "Pas de documents sur cette commande"
          },
          "401": {
            "description": "Vous n'êtes pas autorisé à accéder à cet élément",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/errorCode"
                }
              }
            }
          },
          "403": {
            "description": "Vous ne pouvez pas accéder a cette ressource"
          }
        },
        "operationId": "get-orders-download",
        "description": "Cette méthode permet de télécharger un bordereau de remise listant l'ensemble descommandes, au format PDF, en fonction des paramètres indiqués; Code transporteur, date de prélévement et statut de livraison. ",
        "parameters": [
          {
            "schema": {
              "type": "string"
            },
            "in": "query",
            "name": "deliveryStatus",
            "required": true,
            "description": "Statut de la livraison\n"
          },
          {
            "schema": {
              "type": "string"
            },
            "in": "query",
            "name": "storeId",
            "required": true,
            "description": "Identifiant du magasin"
          },
          {
            "schema": {
              "type": "string"
            },
            "in": "query",
            "name": "carrierCode",
            "required": true,
            "description": "Code du transporteur"
          },
          {
            "schema": {
              "type": "string"
            },
            "in": "query",
            "name": "pickingDate",
            "description": "Date de prélévement"
          },
          {
            "schema": {
              "type": "string"
            },
            "in": "query",
            "name": "exchangePlaceId",
            "required": true,
            "description": "Id du point de prélévement"
          },
          {
            "schema": {
              "type": "string"
            },
            "in": "header",
            "name": "Accept",
            "description": "Pour avoir un retour en json qui contient une base64, mettre en valeur \"application/json\""
          }
        ]
      }
    }
  },
  "components": {
    "securitySchemes": {
      "oAuth2ClientCredentials": {
        "type": "oauth2",
        "flows": {
          "clientCredentials": {
            "tokenUrl": "https://token.last-mile.fr/oauth/token",
            "x-google-issuer": "https://last-mile.eu.auth0.com/",
            "x-google-jwks_uri": "https://last-mile.eu.auth0.com/.well-known/jwks.json",
            "x-google-audiences": "https://retailer.api.meltingpoint.fr/"
          }
        },
        "description": "[Go to definition](https://woop.stoplight.io/docs/retailer/branches/english/docs/Bases/Authentification.md)"
      }
    },
    "schemas": {
      "responseOrder": {
        "title": "Get order response (responseOrder)",
        "type": "object",
        "description": "Specifies the response for getting orders.",
        "properties": {
          "orders": {
            "type": "array",
            "description": "Orders list",
            "items": {
              "type": "object",
              "properties": {
                "delivery": {
                  "description": "Delivery informations",
                  "type": "object",
                  "properties": {
                    "externalDeliveryId": {
                      "type": "string",
                      "description": "Delivery ID"
                    },
                    "currentStatus": {
                      "$ref": "#/components/schemas/deliveryStatus"
                    },
                    "updatedAt": {
                      "type": "string",
                      "description": "Last update date"
                    },
                    "interval": {
                      "$ref": "#/components/schemas/interval"
                    },
                    "trackingPageUrl:": {
                      "type": "string",
                      "description": "Delivery tracking page URL"
                    }
                  }
                },
                "carrier": {
                  "type": "object",
                  "description": "Informations on selected carrier",
                  "properties": {
                    "name": {
                      "type": "string",
                      "description": "Carrier name"
                    },
                    "contact": {
                      "type": "string",
                      "description": "Carrier contact information"
                    },
                    "claimUrl": {
                      "type": "string",
                      "description": "Carrier claim URL"
                    }
                  }
                },
                "order": {
                  "type": "object",
                  "description": "Order informations",
                  "properties": {
                    "id": {
                      "type": "string",
                      "description": "Order ID"
                    },
                    "currentStatus": {
                      "$ref": "#/components/schemas/orderStatus"
                    },
                    "updatedAt": {
                      "type": "string",
                      "description": "Last update date"
                    },
                    "referenceNumber": {
                      "type": "string",
                      "description": "Order reference"
                    }
                  }
                },
                "picking": {
                  "type": "object",
                  "description": "Picking informations",
                  "properties": {
                    "interval": {
                      "$ref": "#/components/schemas/interval"
                    }
                  }
                },
                "packages": {
                  "type": "array",
                  "description": "Packages informations",
                  "items": {
                    "type": "object",
                    "properties": {
                      "id": {
                        "type": "string",
                        "description": "Package ID"
                      },
                      "reference": {
                        "type": "string",
                        "description": "Package reference"
                      }
                    }
                  }
                },
                "price": {
                  "type": "object",
                  "description": "Price associated to the order",
                  "properties": {
                    "price": {
                      "type": "number"
                    },
                    "currency": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          }
        }
      },
      "postCollects": {
        "type": "object",
        "required": [
          "reference",
          "storeId",
          "customer",
          "location",
          "packages"
        ],
        "properties": {
          "reference": {
            "type": "string",
            "description": "Collect request ID"
          },
          "storeId": {
            "type": "string",
            "description": "Emitting request store ID"
          },
          "customer": {
            "$ref": "#/components/schemas/contact"
          },
          "location": {
            "$ref": "#/components/schemas/location"
          },
          "packages": {
            "description": "Whole packages",
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/packages"
            }
          }
        },
        "description": "Specifies useful informations to create a collect request (click and collect).",
        "title": "Collect request (postCollects)"
      },
      "postServices": {
        "type": "object",
        "description": "Specifies the request for possible delivery services according to departure point, an arrival point (no mandatory) and the content of the client shopping cart.",
        "title": "Service eligibility request (postServices)",
        "x-examples": {
          "Default example": {
            "picking": {
              "location": {
                "type": "address",
                "addressLine1": "237 rue du ballon",
                "postalCode": "59110",
                "city": "La Madeleine",
                "country": "FR"
              }
            },
            "packages": [
              {
                "length": {
                  "value": 15,
                  "unit": "cm"
                },
                "width": {
                  "value": 15,
                  "unit": "cm"
                },
                "height": {
                  "value": 1.2,
                  "unit": "m"
                },
                "weight": {
                  "value": 560,
                  "unit": "g"
                },
                "products": [
                  {
                    "type": "TYPOLOGY_GENERIC",
                    "ean": "4dq86zd4q6zd4q64",
                    "cug": "q56zd4q65d4q",
                    "label": "Lampe",
                    "quantity": 1
                  }
                ],
                "quantity": 1
              }
            ],
            "storeId": "MAG01"
          },
          "Example with arrival point": {
            "picking": {
              "location": {
                "type": "address",
                "addressLine1": "237 rue du ballon",
                "postalCode": "59110",
                "city": "La Madeleine",
                "country": "FR"
              }
            },
            "delivery": {
              "location": {
                "type": "address",
                "addressLine1": "179 Boulevard de Turin",
                "postalCode": "59000",
                "city": "Lille",
                "country": "FR"
              }
            },
            "packages": [
              {
                "length": {
                  "value": 15,
                  "unit": "cm"
                },
                "width": {
                  "value": 15,
                  "unit": "cm"
                },
                "height": {
                  "value": 1.2,
                  "unit": "m"
                },
                "weight": {
                  "value": 560,
                  "unit": "g"
                },
                "products": [
                  {
                    "type": "TYPOLOGY_GENERIC",
                    "ean": "4dq86zd4q6zd4q64",
                    "cug": "q56zd4q65d4q",
                    "label": "Lampe",
                    "quantity": 1
                  }
                ],
                "quantity": 1
              }
            ],
            "storeId": "MAG01"
          }
        },
        "properties": {
          "picking": {
            "description": "Informations on picking location",
            "type": "object",
            "required": [
              "location"
            ],
            "properties": {
              "location": {
                "$ref": "#/components/schemas/location"
              }
            }
          },
          "delivery": {
            "type": "object",
            "description": "Informations on delivery location",
            "properties": {
              "location": {
                "$ref": "#/components/schemas/location"
              }
            }
          },
          "packages": {
            "description": "Whole packages",
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/packages"
            }
          },
          "storeId": {
            "type": "string",
            "description": "Store ID emitting request"
          }
        },
        "required": [
          "picking",
          "packages",
          "storeId"
        ]
      },
      "postOrders": {
        "type": "object",
        "description": "Specifies useful informations to create an order.",
        "title": "Order creation (postOrders)",
        "properties": {
          "orderId": {
            "type": "string",
            "description": "Order unique ID (max 36 characters)",
            "maxLength": 36
          },
          "referenceNumber": {
            "type": "string",
            "description": "Order reference, number associated to a store. Can equals to orderId."
          },
          "storeId": {
            "type": "string",
            "description": "Store ID emitting the request"
          },
          "picking": {
            "description": "Informations on picking location",
            "type": "object",
            "required": [
              "location",
              "interval",
              "contact"
            ],
            "properties": {
              "location": {
                "$ref": "#/components/schemas/location"
              },
              "infos": {
                "type": "string",
                "description": "Free comment"
              },
              "interval": {
                "type": "array",
                "description": "Picking interval",
                "items": {
                  "$ref": "#/components/schemas/interval"
                }
              },
              "contact": {
                "$ref": "#/components/schemas/contact"
              }
            }
          },
          "delivery": {
            "description": "Informations on delivery location",
            "type": "object",
            "required": [
              "location",
              "interval",
              "contact"
            ],
            "properties": {
              "location": {
                "$ref": "#/components/schemas/location"
              },
              "infos": {
                "type": "string",
                "description": "Free comment"
              },
              "interval": {
                "type": "array",
                "description": "Delivery interval",
                "items": {
                  "$ref": "#/components/schemas/interval"
                }
              },
              "contact": {
                "$ref": "#/components/schemas/contactDelivery"
              }
            }
          },
          "numberOfPackages": {
            "description": "You can use this field if you want to send only one package but dividing its weight by X NumberOfPackage. Woop platform will look for NumberOfPackage then calculate the number of non generic packages. Then it will substract this number to NumberOfPackage to divide the package containing the merchandise by the result. WARNING: This field is a particular need of Décathlon. Please do not consider this field for the Woop MVP if you are not this retailer.",
            "type": "integer",
            "deprecated": true
          },
          "packages": {
            "description": "Whole packages",
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/packages"
            }
          },
          "services": {
            "$ref": "#/components/schemas/services"
          },
          "productsPrice": {
            "$ref": "#/components/schemas/productsPrice"
          },
          "tags": {
            "$ref": "#/components/schemas/tags"
          }
        },
        "required": [
          "orderId",
          "storeId",
          "picking",
          "delivery",
          "packages",
          "services"
        ]
      },
      "postProductReturn": {
        "type": "object",
        "description": "Specifies the useful informations to create a product return request.",
        "title": "Product return request (postProductReturn)",
        "properties": {
          "orderReturnId": {
            "type": "string",
            "description": "New order ID"
          },
          "initialReferenceNumber": {
            "type": "string",
            "description": "Reference of the original order"
          },
          "storeId": {
            "type": "string",
            "description": "Store ID emitting request"
          },
          "initialCarrier": {
            "type": "boolean",
            "description": "Boolean specifying if the return must be made by the same carrier as the original order."
          },
          "picking": {
            "type": "object",
            "required": [
              "location",
              "interval",
              "contact"
            ],
            "description": "Picking informations",
            "properties": {
              "location": {
                "$ref": "#/components/schemas/location"
              },
              "infos": {
                "type": "string",
                "description": "Free comment"
              },
              "interval": {
                "type": "array",
                "description": "Picking interval",
                "items": {
                  "$ref": "#/components/schemas/interval"
                }
              },
              "contact": {
                "$ref": "#/components/schemas/contact"
              }
            }
          },
          "delivery": {
            "type": "object",
            "required": [
              "location",
              "interval",
              "contact"
            ],
            "description": "Delivery informations",
            "properties": {
              "location": {
                "$ref": "#/components/schemas/location"
              },
              "infos": {
                "type": "string",
                "description": "Free comment"
              },
              "interval": {
                "type": "array",
                "description": "Delivery interval",
                "items": {
                  "$ref": "#/components/schemas/interval"
                }
              },
              "contact": {
                "$ref": "#/components/schemas/contact"
              }
            }
          },
          "packages": {
            "type": "array",
            "description": "Whole packages",
            "items": {
              "$ref": "#/components/schemas/packages"
            }
          }
        },
        "required": [
          "orderReturnId",
          "initialReferenceNumber",
          "storeId",
          "initialCarrier",
          "picking",
          "delivery",
          "packages"
        ]
      },
      "tags": {
        "type": "array",
        "description": "Allowing defining \"markers\" on this order.",
        "items": {
          "type": "object",
          "required": [
            "key",
            "value"
          ],
          "properties": {
            "key": {
              "type": "string",
              "example": "origin"
            },
            "value": {
              "type": "string",
              "example": "web"
            }
          }
        },
        "title": "Tags"
      },
      "address": {
        "description": "All ueful informations about a delivery/picking address.",
        "title": "Address (address)",
        "type": "object",
        "x-examples": {
          "Example": {
            "addressLine1": "179 boulevard de Turin",
            "addressLine2": "Woop",
            "elevator": true,
            "floor": 8,
            "postalCode": "59000",
            "city": "Lille",
            "country": "FR"
          }
        },
        "properties": {
          "addressLine1": {
            "type": "string",
            "description": "Main place full address"
          },
          "addressLine2": {
            "type": "string",
            "description": "Place additionnal address"
          },
          "elevator": {
            "type": "boolean",
            "description": "Indicates if place has a lift\nDefault value : FALSE"
          },
          "floor": {
            "type": "integer",
            "description": "Specifies the floor\nDefault value : 0"
          },
          "postalCode": {
            "type": "string",
            "description": "Corresponds with associated main place potal code"
          },
          "doorCode": {
            "type": "string",
            "description": "Door code"
          },
          "city": {
            "type": "string",
            "description": "City"
          },
          "district": {
            "type": "string",
            "description": "District"
          },
          "country": {
            "$ref": "#/components/schemas/country"
          },
          "comment": {
            "type": "string",
            "description": "Comment, free to use"
          }
        },
        "required": [
          "addressLine1",
          "postalCode",
          "city",
          "country"
        ]
      },
      "deliveryStatus": {
        "type": "string",
        "enum": [
          "DELIVERY_STARTED",
          "DELIVERY_PICK_UP_REACHED",
          "DELIVERY_PICK_UP_OK",
          "DELIVERY_PICK_UP_PARTIALLY",
          "DELIVERY_IN_PROGRESS",
          "DELIVERY_AT_DROP_OF_LOCATION",
          "DELIVERY_PICK_UP_FAILED",
          "DELIVERY_DELIVERED_WITH_CLAIM",
          "DELIVERY_CANCELLED_WITH_RETURN",
          "DELIVERY_FAILED_WITH_RETURN",
          "DELIVERY_RETURNED_TO_PICK_UP",
          "DELIVERY_DELIVERED_OK",
          "DELIVERY_DELIVERED_PARTIALLY",
          "DELIVERY_CANCELLED"
        ],
        "title": "Delivery status (deliveryStatus)",
        "description": "Specify the different possible delivery statuses in the platform.",
        "x-examples": {
          "example": "DELIVERY_STARTED"
        }
      },
      "location": {
        "title": "Location (location)",
        "description": "A location represents a delivery/picking location.",
        "x-examples": {
          "Address": {
            "type": "address",
            "addressLine1": "179 boulevard de Turin",
            "elevator": true,
            "floor": 8,
            "postalCode": "59000",
            "city": "Lille",
            "country": "FR"
          },
          "Point relais": {
            "type": "pickupPoint",
            "id": "76761",
            "carrierCode": "bpost"
          },
          "Point de prélèvement": {
            "type": "exchangePlace",
            "id": "1"
          }
        },
        "oneOf": [
          {
            "allOf": [
              {
                "type": "object",
                "description": "Location of type address",
                "required": [
                  "type"
                ],
                "properties": {
                  "type": {
                    "type": "string",
                    "enum": [
                      "address"
                    ]
                  }
                }
              },
              {
                "$ref": "#/components/schemas/address"
              }
            ]
          },
          {
            "type": "object",
            "description": "Location of type pickup point",
            "required": [
              "type",
              "id",
              "carrierCode"
            ],
            "properties": {
              "type": {
                "type": "string",
                "enum": [
                  "pickupPoint"
                ]
              },
              "id": {
                "type": "string",
                "description": "Pickup point ID"
              },
              "carrierCode": {
                "type": "string",
                "description": "Carrier code",
                "example": "bpost"
              }
            }
          },
          {
            "type": "object",
            "description": "Location of type exchange place",
            "required": [
              "type",
              "id"
            ],
            "properties": {
              "type": {
                "type": "string",
                "enum": [
                  "exchangePlace"
                ]
              },
              "id": {
                "type": "string",
                "description": "Exchange place ID"
              }
            }
          }
        ]
      },
      "interval": {
        "title": "Date interval (interval)",
        "description": "Specifies date interval for a picking/delivery.",
        "type": "object",
        "properties": {
          "start": {
            "type": "string",
            "format": "datetime",
            "description": "Interval start"
          },
          "end": {
            "type": "string",
            "format": "datetime",
            "description": "Interval end"
          }
        },
        "required": [
          "start",
          "end"
        ],
        "x-examples": {
          "Example": {
            "start": "2019-05-02T15:52:01+0000",
            "end": "2019-05-02T17:52:01+0000"
          }
        }
      },
      "interval_hour": {
        "type": "object",
        "properties": {
          "start": {
            "type": "string",
            "format": "time"
          },
          "end": {
            "type": "string",
            "format": "time"
          }
        },
        "required": [
          "start",
          "end"
        ],
        "x-examples": {
          "Example": {
            "start": "14:00",
            "end": "18:00"
          }
        },
        "description": "Specifies the openning dates.",
        "title": "Hour interval (interval_hour)"
      },
      "contact": {
        "title": "Contact (contact)",
        "description": "Informations on picking contact.",
        "type": "object",
        "x-examples": {
          "Example": {
            "firstName": "John",
            "lastName": "Doe",
            "phone": "+33610101010",
            "email": "johndoe@mail.com",
            "language": "fr",
            "timezone": "Europe/Paris"
          }
        },
        "properties": {
          "firstName": {
            "type": "string",
            "description": "Client first name"
          },
          "lastName": {
            "type": "string",
            "description": "Client last name"
          },
          "phone": {
            "type": "string",
            "description": "Client phone"
          },
          "email": {
            "type": "string",
            "description": "Client email"
          },
          "language": {
            "$ref": "#/components/schemas/language"
          },
          "timezone": {
            "$ref": "#/components/schemas/timezone"
          }
        },
        "required": [
          "firstName",
          "lastName",
          "phone",
          "email",
          "language",
          "timezone"
        ]
      },
      "services": {
        "type": "array",
        "description": "Specifies the delivery services to use.",
        "items": {
          "$ref": "#/components/schemas/deliveryService"
        },
        "x-examples": {
          "Example": [
            "SERVICE_PICKUP_POINT"
          ]
        },
        "title": "Delivery services (services)"
      },
      "packages": {
        "description": "Specifies the useful informations to edit an order. L'unité de manutention est à définir avec la structure colis/produit.",
        "type": "object",
        "x-examples": {
          "Example": {
            "reference": [
              "12345B"
            ],
            "length": {
              "value": 200,
              "unit": "mm"
            },
            "width": {
              "value": 200,
              "unit": "mm"
            },
            "height": {
              "value": 100,
              "unit": "mm"
            },
            "weight": {
              "value": 1,
              "unit": "kg"
            },
            "products": [
              {
                "type": "TYPOLOGY_GENERIC",
                "ean": "11233",
                "cug": "KJJNN",
                "label": "Computer",
                "quantity": 1
              }
            ],
            "quantity": 1
          }
        },
        "title": "Packages (packages)",
        "properties": {
          "references": {
            "$ref": "#/components/schemas/packagesReferences"
          },
          "length": {
            "$ref": "#/components/schemas/length"
          },
          "width": {
            "$ref": "#/components/schemas/length"
          },
          "height": {
            "$ref": "#/components/schemas/length"
          },
          "weight": {
            "$ref": "#/components/schemas/mass"
          },
          "products": {
            "type": "array",
            "description": "List of products in package",
            "items": {
              "type": "object",
              "properties": {
                "type": {
                  "$ref": "#/components/schemas/productType"
                },
                "ean": {
                  "type": "string",
                  "description": "Product EAN"
                },
                "cug": {
                  "type": "string",
                  "description": "Product CUG"
                },
                "label": {
                  "type": "string",
                  "description": "Product description"
                },
                "quantity": {
                  "type": "integer",
                  "default": 1,
                  "description": "Product quantity"
                }
              },
              "required": [
                "type"
              ]
            }
          },
          "quantity": {
            "type": "integer",
            "default": 1,
            "description": "Package quantity"
          }
        },
        "required": [
          "length",
          "width",
          "height",
          "weight",
          "products"
        ]
      },
      "coordinates": {
        "type": "object",
        "description": "Specifies the geographic coordinates to use for the creation.",
        "x-examples": {
          "Example": {
            "latitude": 50.63833,
            "longitude": 3.077359
          }
        },
        "title": "Geographic coordinates (coordinates)",
        "properties": {
          "latitude": {
            "type": "number",
            "description": "Latitude"
          },
          "longitude": {
            "type": "number",
            "description": "Longitude"
          }
        },
        "required": [
          "latitude",
          "longitude"
        ]
      },
      "length": {
        "description": "Specifies the package dimension.",
        "type": "object",
        "title": "Dimension (length)",
        "properties": {
          "value": {
            "type": "number",
            "format": "float",
            "description": ""
          },
          "unit": {
            "$ref": "#/components/schemas/lengthUnit"
          }
        },
        "required": [
          "value",
          "unit"
        ]
      },
      "mass": {
        "description": "Specifies the package/product weight.",
        "type": "object",
        "properties": {
          "value": {
            "type": "number",
            "format": "float",
            "description": "Weight value"
          },
          "unit": {
            "$ref": "#/components/schemas/massUnit"
          }
        },
        "required": [
          "value",
          "unit"
        ],
        "title": "Weight (mass)"
      },
      "packagesReferences": {
        "type": "array",
        "items": {
          "type": "string"
        },
        "description": "Specifies the package number chosen for carrier tracking.",
        "title": "Packages reference (packagesReferences)",
        "x-examples": {
          "example-1": [
            "string"
          ]
        }
      },
      "productsPrice": {
        "title": "Products selling price (price)",
        "type": "object",
        "description": "Corresponds with products selling price. Filled if delivery is realized with service “SERVICE_INSTALL”.",
        "properties": {
          "value": {
            "type": "number",
            "format": "float",
            "description": "Price value",
            "exclusiveMinimum": true,
            "minimum": 0
          },
          "currency": {
            "$ref": "#/components/schemas/currency"
          }
        },
        "x-examples": {
          "Example": {
            "value": 300,
            "currency": "EUR"
          }
        }
      },
      "pickupPointCarrier": {
        "description": "Specifies the selected carrier for a pickup point.",
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Carrier name"
          },
          "code": {
            "type": "string",
            "description": "Carrier internal code"
          }
        },
        "required": [
          "name",
          "code"
        ],
        "x-examples": {
          "Example": {
            "name": "Bpost",
            "code": "bpost"
          }
        },
        "title": "pickup point carrier (pickupPointCarrier)"
      },
      "cancelledReasons": {
        "type": "string",
        "description": "Specifies the possible reasons for a cancellation from the carrier.",
        "enum": [
          "CANCELLED_CANNOT_SERVICE",
          "CANCELLED_UNKNOWN",
          "CANCELLED_PREPARATION_DELAYED",
          "CANCELLED_BY_CLIENT",
          "CANCELLED_NEW_ADDRESS",
          "CANCELLED_INCOMPLETE"
        ],
        "x-examples": {
          "Example": "CANCELLED_CANNOT_SERVICE"
        },
        "title": "Cancellation reasons (cancelledReasons)"
      },
      "deliveryService": {
        "description": "Specifies the delivery service that can be used.",
        "enum": [
          "SERVICE_PICKUP_POINT",
          "SERVICE_REGULAR_FRONT_HOME",
          "SERVICE_SELECTED_ROOM",
          "SERVICE_FRONT_HOME",
          "SERVICE_UNPACKING",
          "SERVICE_INSTALL",
          "SERVICE_RECOVERY",
          "SERVICE_SIMPLE_INSTALL",
          "SERVICE_COMPLEX_INSTALL",
          "SERVICE_ASSEMBLY"
        ],
        "x-examples": {
          "Example": "SERVICE_PICKUP_POINT"
        },
        "title": "Delivery service (deliveryService)",
        "type": "string"
      },
      "productType": {
        "type": "string",
        "enum": [
          "TYPOLOGY_GENERIC",
          "TYPOLOGY_GROCERY",
          "TYPOLOGY_FRESH",
          "TYPOLOGY_FROZEN",
          "TYPOLOGY_DANGEROUS",
          "TYPOLOGY_HOUSEHOLD",
          "TYPOLOGY_VOLUMINOUS",
          "TYPOLOGY_FRAGILE",
          "TYPOLOGY_VOLUMINOUS_FRAGILE",
          "TYPOLOGY_LARGE_HOUSEHOLD",
          "TYPOLOGY_PALLET_GENERIC",
          "TYPOLOGY_NON_STANDARD"
        ],
        "title": "Product typology (productType)",
        "description": "Specifies the product typology.",
        "x-examples": {
          "Example": "TYPOLOGY_GENERIC"
        }
      },
      "currency": {
        "type": "string",
        "enum": [
          "EUR"
        ],
        "description": "Specifies the currency used.",
        "title": "Currency (currency)",
        "x-examples": {
          "Example": "EUR"
        }
      },
      "lengthUnit": {
        "type": "string",
        "enum": [
          "mm",
          "cm",
          "m",
          "in",
          "ft-us",
          "ft",
          "mi"
        ],
        "description": "Specifies the length unit.",
        "default": "cm",
        "title": "Measure unit (lengthUnit)"
      },
      "massUnit": {
        "type": "string",
        "enum": [
          "mcg",
          "mg",
          "g",
          "kg",
          "oz",
          "lb",
          "mt",
          "t"
        ],
        "description": "Specifies the weight unit.",
        "default": "kg",
        "title": "Weight unit (massUnit)",
        "x-examples": {
          "Example": "kg"
        }
      },
      "country": {
        "type": "string",
        "description": "Country code (ISO 3166 alpha-2).",
        "enum": [
          "FR",
          "BE"
        ],
        "x-examples": {
          "Example": "FR"
        },
        "title": "Country (country)"
      },
      "language": {
        "type": "string",
        "title": "Language (language)",
        "description": "Specifies the language code to use for the picking/delivery contact.",
        "x-examples": {
          "Example": "fr"
        },
        "example": "fr",
        "enum": [
          "en",
          "fr",
          "es",
          "nl"
        ]
      },
      "timezone": {
        "type": "string",
        "title": "Time zone (timezone)",
        "description": "Reference to the following page https://en.wikipedia.org/wiki/List_of_tz_database_time_zones.",
        "example": "Europe/Paris",
        "x-examples": {
          "Example": "Europe/Paris"
        }
      },
      "orderStatus": {
        "title": "Order status (orderStatus)",
        "type": "string",
        "enum": [
          "ORDER_CREATED",
          "ORDER_UPDATED",
          "ORDER_TO_BE_COMPLETED",
          "ORDER_WITH_NO_CARRIER_ELIGIBLE",
          "ORDER_TO_BE_QUOTED",
          "ORDER_QUOTED",
          "ORDER_WITH_NO_QUOTE",
          "ORDER_QUOTE_TO_BE_CONFIRMED",
          "ORDER_TO_BE_SENT_TO_CARRIER",
          "ORDER_WITH_NO_CARRIER_AVAILABLE",
          "ORDER_REFUSED_DELIVERY",
          "ORDER_TO_DELIVER",
          "ORDER_BEING_DELIVERED",
          "ORDER_DELIVERY_UNCOMPLETED",
          "ORDER_DELIVERED",
          "ORDER_CANCELLED"
        ],
        "description": "Specifies the order status."
      },
      "pickupPointType": {
        "title": "Pickup point type",
        "type": "string",
        "enum": [
          "PICKUP_POINT_AGENCY",
          "PICKUP_POINT_POST_OFFICE",
          "PICKUP_POINT_RELAY_WITH_LOCKER",
          "PICKUP_POINT_RELAY_WITHOUT_LOCKER",
          "PICKUP_POINT_ALL"
        ],
        "default": "PICKUP_POINT_RELAY_WITH_LOCKER"
      },
      "pickupPointCategory": {
        "title": "Pickup point category",
        "type": "string",
        "enum": [
          "PICKUP_POINT_STANDARD",
          "PICKUP_POINT_XL",
          "PICKUP_POINT_XXL",
          "PICKUP_POINT_DRIVE"
        ]
      },
      "errorCode": {
        "title": "Error code (errorCode)",
        "type": "object",
        "x-examples": {
          "409 - Conflict ": {
            "statusCode": 409,
            "error": "Conflict",
            "message": "Conflict"
          }
        },
        "description": "Corresponds with the model returned in case of API error.",
        "properties": {
          "statusCode": {
            "type": "integer",
            "description": "HTTP status code"
          },
          "error": {
            "type": "string",
            "description": "error label"
          },
          "message": {
            "type": "string",
            "description": "Error message"
          },
          "reasons": {
            "type": "array",
            "description": "List of possible technical reasons",
            "items": {
              "type": "string",
              "enum": [
                "STORE_NOT_FOUND",
                "EXCHANGE_PLACE_NOT_FOUND",
                "PICKUP_POINT_NOT_FOUND"
              ]
            }
          }
        }
      },
      "contactDelivery": {
        "title": "Delivery contact (contactDelivery)",
        "description": "Informations on delivery contact. (phone number not required)",
        "type": "object",
        "x-examples": {
          "Example": {
            "firstName": "John",
            "lastName": "Doe",
            "email": "johndoe@mail.com",
            "language": "fr",
            "timezone": "Europe/Paris"
          }
        },
        "properties": {
          "firstName": {
            "type": "string",
            "description": "Contact first name"
          },
          "lastName": {
            "type": "string",
            "description": "Contact last name"
          },
          "phone": {
            "type": "string",
            "description": "Contact phone number"
          },
          "email": {
            "type": "string",
            "description": "Contact email"
          },
          "language": {
            "$ref": "#/components/schemas/language"
          },
          "timezone": {
            "$ref": "#/components/schemas/timezone"
          }
        },
        "required": [
          "firstName",
          "lastName",
          "email",
          "language",
          "timezone"
        ]
      }
    },
    "parameters": {
      "apiVersion": {
        "in": "header",
        "name": "x-api-version",
        "description": "Targeted API version",
        "required": true,
        "schema": {
          "type": "string",
          "example": "1.4.0"
        }
      },
      "queryDeliveryStatus": {
        "in": "query",
        "required": true,
        "name": "deliveryStatus",
        "description": "Filter orders list by delivery status",
        "schema": {
          "type": "string",
          "example": "DELIVERY_INIT"
        }
      },
      "queryPickingDate": {
        "in": "query",
        "required": false,
        "name": "pickingDate",
        "description": "Filter by picking date. Allows to get orders older than this date.",
        "schema": {
          "type": "string",
          "format": "datetime",
          "example": "2019-12-06T12:00:00Z"
        }
      },
      "queryPickupPointCarrierCode": {
        "in": "query",
        "name": "carrierCode",
        "description": "Filter by carrier code",
        "schema": {
          "type": "string",
          "example": "bpost"
        }
      },
      "queryStoreId": {
        "in": "query",
        "name": "storeId",
        "description": "Filter by store ID",
        "schema": {
          "type": "string"
        }
      },
      "queryStoreIdRequired": {
        "in": "query",
        "required": true,
        "description": "Filter by store ID",
        "name": "storeId",
        "schema": {
          "type": "string"
        }
      },
      "queryMode": {
        "in": "query",
        "name": "mode",
        "description": "Label format",
        "schema": {
          "type": "string",
          "default": "pdf",
          "enum": [
            "pdf",
            "zpl"
          ]
        }
      },
      "queryLatitude": {
        "in": "query",
        "required": true,
        "description": "Searching point latitude",
        "name": "latitude",
        "schema": {
          "type": "number"
        }
      },
      "queryLongitude": {
        "in": "query",
        "description": "Searching point latitude",
        "required": true,
        "name": "longitude",
        "schema": {
          "type": "number"
        }
      },
      "queryNumber": {
        "in": "query",
        "required": false,
        "description": "Number of pickup points you want",
        "name": "number",
        "schema": {
          "type": "integer",
          "maximum": 25,
          "default": 10
        }
      },
      "queryKilometricDistance": {
        "in": "query",
        "required": false,
        "description": "Distance in kilometers of searching radius",
        "name": "kilometricDistance",
        "schema": {
          "type": "integer",
          "maximum": 40,
          "default": 5
        }
      },
      "queryPickupPointType": {
        "in": "query",
        "required": false,
        "name": "type",
        "description": "Pickup point type",
        "schema": {
          "$ref": "#/components/schemas/pickupPointType"
        }
      },
      "queryPickupPointCategory": {
        "in": "query",
        "required": false,
        "name": "category",
        "description": "Pickup point category",
        "schema": {
          "$ref": "#/components/schemas/pickupPointCategory"
        }
      },
      "pathOrderId": {
        "in": "path",
        "required": true,
        "description": "Order ID",
        "name": "orderId",
        "schema": {
          "type": "string"
        }
      },
      "pathDocumentId": {
        "in": "path",
        "required": true,
        "description": "Document ID",
        "name": "documentId",
        "schema": {
          "type": "string"
        }
      },
      "pathPriceId": {
        "in": "path",
        "required": true,
        "description": "Price request ID",
        "name": "priceId",
        "schema": {
          "type": "string"
        }
      }
    }
  }
}